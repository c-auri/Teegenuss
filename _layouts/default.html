<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/assets/css/styles.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <title>{{ page.title }}</title>
</head>
<body>
<div class="page">

  <header class="page__header">

    <a class="brand" href="/">
      <span>Projekt</span>
      <br>
      <span>Teegenuss</span>
    </a>

    <nav class="primary-nav" id="primary-navigation" data-expanded="false">
      
      <div class="primary-nav__group">
        {% for item in site.data.navigation %}
        <a href="{{item.link}}" class="primary-nav__link {% if page.url == item.link %}primary-nav__link--current{% endif %}">
          {{item.name}}
        </a>
        {% endfor %}
      </div>

      <div class="primary-nav__group">
        <button aria-controls="authentication" class="primary-nav__auth" id="btnOpenAuth" data-display="none">Anmeldung</button>
        <a href="/profil" class="primary-nav__profile" id="aProfile" data-display="none"><span id="spanProfile">Profil</span></a>
      </div>

    </nav>

    <button aria-controls="primary-navigation" aria-expanded="false" class="nav-toggle">
      <img src="/assets/img/icons/navigation-open.png" class="nav-toggle__open">
      <img src="/assets/img/icons/navigation-close.png" class="nav-toggle__close">
    </button>

  </header>

  <dialog class="auth" id="dlgAuth">
    
    <div class="auth__close-container">
      <button type="button" class="auth__close" id="btnCloseAuth"><img src="/assets/img/icons/close.png"></button>
    </div>

    <div class="auth__container">

      <nav class="auth__nav" aria-label="authentication navigation">
        <button type="button" class="auth__tab auth__tab--current" id="tabLogin">Anmelden</button>
        <button type="button" class="auth__tab" id="tabRegister">Registrieren</button>
      </nav>
  
      <form class="auth__form" id="formAuth">
  
        <div id="formLogin" data-display="none">

          <div class="auth__group">
            <input class="auth__input" id="txtEmail" type="email">
            <label class="auth__label">Email</label>
          </div>
  
          <div class="auth__group">
            <input class="auth__input" id="txtPassword" type="password">
            <div class="auth__label-container">
              <label class="auth__label" id="lblPassword">Passwort</label>
              <button type="button" class="auth__forgot" id="btnForgot">vergessen?</button>
            </div>
          </div>

        </div>

        <div id="formReset" data-display="none">

          <div class="auth__group">
            <input class="auth__input" id="txtReset" type="email">
            <label class="auth__label">Email</label>
          </div>

        </div>          

        <div id="formRegister" data-display="none">

          <div class="auth__group">
            <input class="auth__input" id="txtRegisterName">
            <label class="auth__label" id="lblName">Benutzername</label>
          </div>

          <div class="auth__group">
            <input class="auth__input" id="txtRegisterEmail" type="email">
            <label class="auth__label">Email</label>
          </div>

          <div class="auth__group">
            <input class="auth__input" id="txtRegisterPassword" type="password">
            <label class="auth__label" id="lblRegisterPassword">Passwort (mindestens 6 Zeichen)</label>
          </div>
          <div class="auth__group">
            <input class="auth__input" id="txtRegisterRepeat" type="password">
            <label class="auth__label" id="lblRegisterRepeat">Passwort wiederholen</label>
          </div>

        </div>

        <div class="auth__group">
          <p class="auth__message auth__message--error" id="spanError" data-display="none">Fehler</p>
          <p class="auth__message auth__message--success" id="spanSuccess" data-display="none">Erfolg</p>
        </div>
        
        <div class="auth__buttons">
          <button type="button" class="button button--large" id="btnLogin">Anmelden</button>
          <button type="button" class="button button--large" id="btnReset" data-display="none">Zurücksetzen</button>
          <button type="button" class="button button--large" id="btnRegister" data-display="none">Registrieren</button>
        </div>
        
      </form>
  
    </div>
  </dialog>

  <main>
    <div class="content">
      {{ content }}
    </div>
  </main>

  <footer class="page-footer">
    <div class="page-footer__section">
      <nav class="sitemap">
        {% assign packages = site.packages | where: 'order-id', '22-2' %}
        {% for package in packages %}
        {% assign teas = site.teas | where: 'order-id', package.order-id | where: 'package', package.shorthand %}
        <div>
          <span class="sitemap__bundle">{{ package.title }}</span>
          <ul class="sitemap__teas">
            {% for tea in teas %}
            <li class="sitemap__tea"><a class="sitemap__link" href="{{ tea.url }}">{{ tea.title }}</a></li>
            {% endfor %}
          </ul>
        </div>
        {% endfor %}
        <div class="sitemap__secondary-pages">
          <span class="sitemap__secondary-page"><a class="sitemap__link" href="/glossar">Glossar</a></span>
          <span class="sitemap__secondary-page"><a class="sitemap__link" href="/ueber">Über</a></span>
          <span class="sitemap__secondary-page"><a class="sitemap__link" href="https://discord.gg/XQGvCeBDDJ">Discord</a></span>
        </div>
      </nav>
    </div>
    <div class="page-footer__section--dark">
      <div class="small-print">
        <span>&copy;&nbsp;Herbert Zilelberg</span>
      </div>
    </div>
  </footer>

</div>

<script type="module" src="/assets/js/ui/navigation.js" defer></script>
<script type="module" src="/assets/js/firebase/auth.js" defer></script>

</body>
</html>